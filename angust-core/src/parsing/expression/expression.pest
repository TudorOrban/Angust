WHITESPACE = _{ " " | "\t" | "\r" | "\n" }

number = @{ "-"? ~ ('0'..'9')+ }
identifier = @{ ASCII_ALPHA ~ (ASCII_ALPHANUMERIC | "_")* }

comparison_operator = { "==" | "!=" | "<" | ">" | "<=" | ">=" }
logical_operator = { "&&" | "||" }
operator = { "+" | "-" | "*" | "/" }

expression = { logical_expression }

logical_expression = {
    comparison_expression ~ (logical_operator ~ comparison_expression)*
}

comparison_expression = {
    additive_expression ~ (comparison_operator ~ additive_expression)*
}

additive_expression = {
    multiplicative_expression ~ (operator ~ multiplicative_expression)*
}

multiplicative_expression = {
    primary
}

primary = {
    number
    | function_call
    | identifier
}

function_call = {
    identifier ~ "(" ~ expression_list? ~ ")"
}

expression_list = {
    expression ~ ("," ~ expression)*
}
